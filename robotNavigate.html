
<!doctype html>
<html>

<head>
	<style type="text/css">
		html, body {
			padding: 0;
			margin: 0;
			height: 100%;
		}
		
		#field-map-container {
			width: 100%;
			position: relative;
			display: block;
		}
		
		#fieldImg { 
		}
		
		#robot {
			position: absolute;
			top: 156px;
			left: 358px;
			width: 40px;
			height: 40px;
			transform: translateX(-50%) translateY(-50%);
			pointer-events: none;
			-webkit-pointer-events: none;
		}
		
		/*canvas {
			position: absolute;
			
			width: 100%;
			height: 100%;
		}*/
	</style>

</head>
<body>
<div id="field-map-container">
	<img id="fieldImg" src="steamworksField.png" />
	<img id="robot" src="spaceship.png" />
</div>

<!--<button id="clear" style="top:0px;left:0px;width:50px;height:30px;position:absolute">Clear</button>
<button id="save" style="top:0px;left:50px;width:50px;height:30px;position:absolute">Save</button>-->

<script>
	const PIXELS_PER_INCH = 494 / (54  * 12);
	const CENTER_X = 358;
	const CENTER_Y = 156;
	
	//var clearbtn = document.getElementById("clear");
	//var savebtn = document.getElementById("save");
	
	var fieldImg = document.getElementById("fieldImg");
	var robotImg = document.getElementById("robot");
		
	function positionRobot(xInches, yInches, direction) {
	    robotImg.style.top = (yInches * PIXELS_PER_INCH + CENTER_Y) + "px";
		robotImg.style.left = (xInches * PIXELS_PER_INCH + CENTER_X) + "px";
		robotImg.style.transform = 'translateX(-50%) translateY(-50%) rotate(' + (direction - 90) + 'deg)';
	}
	
	/*var drawing;
	var lifted = false;
	clearbtn.onclick = function(){
		context.clearRect(0,0,canvas.width,canvas.height);
		drawing = false;
		lifted = false;
		context.drawImage(fieldImg, 0, 0, canvas.width, canvas.width * fieldImg.height/fieldImg.width);
	}
	savebtn.onclick = function(){

	}

	window.onload = window.onresize = function(){
		canvas.width = canvas.offsetWidth;
		canvas.height = canvas.offsetHeight;
		//imgCanvas.width = 5;
		//imgCanvas.height = 5;
		//fieldImg.style.width = '100%';
		//fieldImg.style.height = '100%';
		context.drawImage(fieldImg, 0, 0, canvas.width, canvas.width * fieldImg.height/fieldImg.width);
	}
	function circ(x,y,radius,color){
		context.beginPath();
		context.arc(x,y,radius,0,Math.PI*2);
		context.fillStyle = color;
		context.fill();
		context.closePath();
	}
	function line(x,y,newx,newy){
		context.beginPath();
		context.moveTo(x,y);
		context.lineTo(newx,newy);
		context.stroke();
	}*/

	/*imgCanvas.onpointerdown = function(event) {
		console.log(event.button);
		if (event.button != 2 && !lifted) {
			event.preventDefault();
			drawing = true;
			oldx = event.clientX;
			oldy = event.clientY;
		}
		event.preventDefault();
		newRobot(event.clientX,event.clientY);
	}*/
	
	/*canvas.onpointerdown = function(event) {
		console.log(event.button);
		if (event.button != 2 && !lifted) {
			event.preventDefault();
			drawing = true;
			oldx = event.clientX;
			oldy = event.clientY;
		}
		event.preventDefault();
		newRobot(event.clientX,event.clientY);
	}

	canvas.onpointerup = function(event) {
		if (event.button != 2) {
			event.preventDefault();
			drawing = false;
			lifted = true;
		}
	}

 	var posx, posy;
 	var oldx = 0,oldy = 0;
	canvas.onpointermove = function(event) {
		if (event.button != 2) {
			event.preventDefault();
			posx = event.clientX;
			posy = event.clientY;
		}
	}

	function draw(){
		if (drawing){
			line(oldx,oldy,posx,posy)
			oldx = posx;
			oldy = posy;
			console.log(posy);
		}
		setTimeout(draw,0)
	}*/

	/*function newRobot(posx, posy) {
		robotImg.style.top = (posy - 30) + "px";
		robotImg.style.left = (posx - 20) + "px";
		robotImg.style.transform = 'rotate(' + (Math.random()*180) + 'deg)';
	}

	draw();*/
</script>


</body></html>